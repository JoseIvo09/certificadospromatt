import { O as OutputOptions } from '../generate-C8Qor0QX.js';
import { Message } from '../message.js';
import { JSONSchema } from '@genkit-ai/core';
import { Registry } from '@genkit-ai/core/registry';
import { MessageData } from '../model.js';
import { Formatter } from './types.d.js';
import { GenerateResponseChunk } from '../generate/chunk.js';
import '../document.js';
import '../generate/response.js';

declare function defineFormat(registry: Registry, options: {
    name: string;
} & Formatter['config'], handler: Formatter['handler']): {
    config: {
        contentType?: string | undefined;
        format?: string | undefined;
        schema?: Record<string, any> | undefined;
        constrained?: boolean | undefined;
        instructions?: string | undefined;
    };
    handler: (schema?: any) => {
        parseMessage(message: Message<unknown>): unknown;
        parseChunk?: ((chunk: GenerateResponseChunk<unknown>, cursor?: any) => unknown) | undefined;
        instructions?: string | undefined;
    };
};
type FormatArgument = keyof typeof DEFAULT_FORMATS | Omit<string, keyof typeof DEFAULT_FORMATS> | undefined | null;
declare function resolveFormat(registry: Registry, outputOpts: OutputOptions | undefined): Promise<Formatter<any, any> | undefined>;
declare function resolveInstructions(format?: Formatter, schema?: JSONSchema, instructionsOption?: boolean | string): string | undefined;
declare function injectInstructions(messages: MessageData[], instructions: string | boolean | undefined): MessageData[];
declare const DEFAULT_FORMATS: Formatter<any, any>[];
/**
 * configureFormats registers the default built-in formats on a registry.
 */
declare function configureFormats(registry: Registry): void;

export { DEFAULT_FORMATS, type FormatArgument, configureFormats, defineFormat, injectInstructions, resolveFormat, resolveInstructions };
